@using CheckYourEligibility.Domain.Responses
@model List<ApplicationSaveItemResponse>
@{
    ViewData["Title"] = "Children details added";
    ViewData["Layout"] = "full";
    var currentDate = DateTime.Now.ToString("d MMMM yyyy");
}

@* <a class="govuk-back-link" href="#" onclick="history.back(); return false;">Back</a> *@
<a class="govuk-back-link-nolink"></a>

@if (!ViewData.ModelState.IsValid)
{
    ViewData["Title"] = "Children details added";
    <partial name="_ValidationSummary" model="ViewData.ModelState" />
}

<div class="govuk-width-container">
    <div class="govuk-grid-row">
        <div class="govuk-grid-column-two-thirds">
            <span class="govuk-caption-m">Appeal - Free school meals</span>

            <div class="govuk-panel govuk-panel--confirmation">
                <h1 class="govuk-panel__title">Children details added</h1>
                <div class="govuk-panel__body">
                    Added on<br /><strong>@currentDate</strong>
                </div>
            </div>
        </div>
    </div>
    <div class="govuk-!-padding-top-5"></div>
    <div class="govuk-grid-row">
        <div class="govuk-grid-column-full">

            <h1 class="govuk-heading-m">You have added children’s details to @Model.First().Data.ParentFirstName @Model.First().Data.ParentLastName's appeal for free school meals.</h1>
        </div>
    </div>
</div>


<div class="govuk-grid-row">
    <div class="govuk-grid-column-full">
        <table class="govuk-table">
            <thead class="govuk-table__head">
                <tr class="govuk-table__row">
                    <th class="govuk-table__header">Child</th>
                    <th class="govuk-table__header">Reference</th>
                </tr>
            </thead>
            <tbody class="govuk-table__body">
                @foreach (var item in @Model)
                {
                    <tr class="govuk-table__row">
                        <td class="govuk-table__cell">@item.Data.ChildFirstName @item.Data.ChildLastName</td>
                        <td class="govuk-table__cell">@item.Data.Reference</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

<div class="govuk-!-padding-bottom-3"></div>
<div class="govuk-width-container">
    <div class="govuk-grid-row">
        <div class="govuk-grid-column-full">
            <h2 class="govuk-heading-m">What to do next</h2>
            <p>You’ll need to send supporting evidence to your local authority by email for review in support of the appeal>
            <p>Go to @Html.ActionLink("guidance for reviewing evidence (opens in new tab)", "Guidance", "Home", null, new { @class = "govuk-link", target = "_blank",}) to see a complete list of acceptable evidence types.</p>
            <p>After you have sent the evidence to the local authority go to @Html.ActionLink("Process appeals (opens in new tab)", "AppealsApplications", "application", null, new { @class = "govuk-link", target = "_blank"}) and follow the instructions.</p>
        </div>
    </div>
</div>

<p>@Html.ActionLink("Return to dashboard", "Index", "Home")</p>

<script src="/js/validationSummary.js"></script>